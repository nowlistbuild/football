<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>‚öΩ Be My Valentine? ‚öΩ</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto:wght@700;900&display=swap');

    :root {
      --grass: #2d5016;
      --grass-light: #3a6b1f;
      --pitch-line: #ffffff;
      --red-card: #dc2626;
      --yellow: #fbbf24;
      --stadium: #1e293b;
    }

    * { 
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100svh;
      display: grid;
      place-items: center;
      background: linear-gradient(180deg, var(--stadium) 0%, #0f172a 100%);
      font-family: 'Roboto', sans-serif;
      overflow: hidden;
      padding: 20px;
      position: relative;
    }

    /* Stadium lights */
    .stadium-lights {
      position: fixed;
      inset: 0;
      pointer-events: none;
    }

    .light {
      position: absolute;
      width: 100px;
      height: 100px;
      background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
      border-radius: 50%;
      animation: flicker 3s ease-in-out infinite;
    }

    @keyframes flicker {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 1; }
    }

    #confettiCanvas {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 9999;
    }

    .pitch {
      width: min(600px, 92vw);
      background: 
        repeating-linear-gradient(
          90deg,
          var(--grass) 0px,
          var(--grass) 40px,
          var(--grass-light) 40px,
          var(--grass-light) 80px
        );
      border: 8px solid var(--pitch-line);
      border-radius: 20px;
      padding: 35px 25px;
      box-shadow: 
        0 30px 80px rgba(0,0,0,0.6),
        inset 0 0 30px rgba(0,0,0,0.3);
      text-align: center;
      position: relative;
      z-index: 1;
    }

    /* Pitch markings */
    .pitch::before {
      content: "";
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--pitch-line);
      opacity: 0.5;
    }

    .pitch::after {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80px;
      height: 80px;
      border: 2px solid var(--pitch-line);
      border-radius: 50%;
      opacity: 0.5;
    }

    /* Football Goal with Heart Ball */
    .goal-scene {
      margin: 0 auto 25px;
      position: relative;
      width: 100%;
      max-width: 350px;
    }

    .goal {
      width: 200px;
      height: 150px;
      margin: 0 auto;
      position: relative;
    }

    .goal-post {
      position: absolute;
      background: white;
    }

    .post-left {
      left: 0;
      bottom: 0;
      width: 8px;
      height: 100px;
    }

    .post-right {
      right: 0;
      bottom: 0;
      width: 8px;
      height: 100px;
    }

    .crossbar {
      top: 0;
      left: 0;
      right: 0;
      height: 8px;
    }

    .net {
      position: absolute;
      inset: 8px 8px 0 8px;
      background: 
        repeating-linear-gradient(0deg, transparent 0px, transparent 8px, rgba(255,255,255,0.1) 8px, rgba(255,255,255,0.1) 10px),
        repeating-linear-gradient(90deg, transparent 0px, transparent 8px, rgba(255,255,255,0.1) 8px, rgba(255,255,255,0.1) 10px);
    }

    /* Heart Football */
    .football {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 60px;
      filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3));
      animation: floatBall 3s ease-in-out infinite;
      z-index: 2;
    }

    @keyframes floatBall {
      0%, 100% { transform: translate(-50%, -50%) translateY(0px); }
      50% { transform: translate(-50%, -50%) translateY(-10px); }
    }

    h1 {
      font-family: 'Bebas Neue', cursive;
      font-size: clamp(32px, 6vw, 52px);
      color: white;
      text-shadow: 
        3px 3px 0 var(--red-card),
        6px 6px 20px rgba(0,0,0,0.5);
      letter-spacing: 3px;
      margin: 20px 0 10px;
      line-height: 1.2;
    }

    .var-text {
      font-size: clamp(13px, 2.8vw, 16px);
      color: var(--yellow);
      font-weight: 700;
      margin-bottom: 30px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }

    .field {
      position: relative;
      height: 200px;
      margin: 25px 0;
      background: rgba(0,0,0,0.2);
      border: 3px solid rgba(255,255,255,0.3);
      border-radius: 15px;
      overflow: hidden;
    }

    button {
      position: absolute;
      padding: 18px 35px;
      font-family: 'Bebas Neue', cursive;
      font-size: clamp(18px, 4vw, 24px);
      letter-spacing: 2px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    }

    #yesBtn {
      left: 10%;
      top: 50%;
      transform: translateY(-50%);
      background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
      color: white;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    #yesBtn:hover {
      transform: translateY(-50%) scale(1.05);
      box-shadow: 0 12px 30px rgba(34, 197, 94, 0.4);
    }

    #noBtn {
      right: 10%;
      top: 50%;
      transform: translateY(-50%);
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
      color: white;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
      animation: redCardShake 0.5s ease infinite;
    }

    @keyframes redCardShake {
      0%, 100% { transform: translateY(-50%) rotate(0deg); }
      25% { transform: translateY(-50%) rotate(-2deg); }
      75% { transform: translateY(-50%) rotate(2deg); }
    }

    .hint {
      font-size: clamp(12px, 2.5vw, 15px);
      color: rgba(255,255,255,0.8);
      margin-top: 15px;
      font-weight: 700;
    }

    .result {
      display: none;
      animation: goalCelebration 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    @keyframes goalCelebration {
      0% {
        transform: scale(0) translateY(100px);
        opacity: 0;
      }
      60% {
        transform: scale(1.1) translateY(-10px);
      }
      100% {
        transform: scale(1) translateY(0);
        opacity: 1;
      }
    }

    .result h2 {
      font-family: 'Bebas Neue', cursive;
      font-size: clamp(40px, 7vw, 70px);
      color: var(--yellow);
      text-shadow: 
        3px 3px 0 var(--red-card),
        6px 6px 20px rgba(0,0,0,0.5);
      margin: 20px 0;
      letter-spacing: 6px;
      animation: goalFlash 1s ease infinite;
    }

    @keyframes goalFlash {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.8; }
    }

    .celebration {
      font-size: clamp(18px, 4vw, 26px);
      color: white;
      font-weight: 700;
      line-height: 1.8;
      margin-top: 20px;
      text-shadow: 0 2px 8px rgba(0,0,0,0.5);
    }

    .trophy-emojis {
      font-size: clamp(50px, 8vw, 80px);
      margin: 20px 0;
      display: block;
      animation: spin 2s linear infinite;
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    /* Crowd effect */
    .crowd {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100px;
      background: linear-gradient(to top, rgba(0,0,0,0.5), transparent);
      pointer-events: none;
      display: flex;
      align-items: flex-end;
      justify-content: space-around;
      padding: 10px;
      font-size: 30px;
    }
  </style>
</head>

<body>
  <!-- Stadium lights -->
  <div class="stadium-lights">
    <div class="light" style="top: 5%; left: 10%;"></div>
    <div class="light" style="top: 5%; right: 10%;"></div>
    <div class="light" style="top: 5%; left: 50%; transform: translateX(-50%);"></div>
  </div>

  <!-- Crowd -->
  <div class="crowd">
    <span style="animation-delay: 0s;">üë§</span>
    <span style="animation-delay: 0.2s;">üë§</span>
    <span style="animation-delay: 0.4s;">üë§</span>
    <span style="animation-delay: 0.6s;">üë§</span>
    <span style="animation-delay: 0.8s;">üë§</span>
    <span style="animation-delay: 1s;">üë§</span>
  </div>
  
  <canvas id="confettiCanvas"></canvas>

  <main class="pitch">
    <!-- Goal with Heart Ball -->
    <div class="goal-scene">
      <div class="goal">
        <div class="goal-post post-left"></div>
        <div class="goal-post post-right"></div>
        <div class="goal-post crossbar"></div>
        <div class="net"></div>
        <div class="football">‚öΩ‚ù§Ô∏è</div>
      </div>
    </div>

    <h1>WILL YOU BE</h1>
    <h1>MY VALENTINE?</h1>
    <p class="var-text">üéØ NO VAR REVIEW NEEDED üéØ</p>

    <div class="field" id="field">
      <button id="yesBtn">GOAL! ‚öΩ</button>
      <button id="noBtn">RED CARD üü•</button>
    </div>

    <div class="hint" id="hint">
      ‚ö†Ô∏è "No" is getting a red card...
    </div>

    <div class="result" id="result">
      <h2>GOOOAAAALLLL!</h2>
      <span class="trophy-emojis">üèÜ‚öΩüíï</span>
      <div class="celebration">
        WHAT A STRIKE!<br/>
        ABSOLUTE SCREAMER!<br/>
        <strong style="color: var(--yellow);">HAPPY VALENTINE'S DAY!</strong>
      </div>
    </div>
  </main>

  <script>
    const field = document.getElementById("field");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const result = document.getElementById("result");
    const hint = document.getElementById("hint");

    /* CONFETTI */
    const confettiCanvas = document.getElementById("confettiCanvas");
    
    function resizeConfettiCanvas() {
      const dpr = Math.max(1, window.devicePixelRatio || 1);
      confettiCanvas.width = Math.floor(window.innerWidth * dpr);
      confettiCanvas.height = Math.floor(window.innerHeight * dpr);
    }

    resizeConfettiCanvas();
    window.addEventListener("resize", resizeConfettiCanvas);

    const confettiInstance = confetti.create(confettiCanvas, {
      resize: false,
      useWorker: true
    });

    function goalConfetti() {
      const colors = ['#22c55e', '#fbbf24', '#dc2626', '#ffffff'];
      const end = Date.now() + 3000;

      // Goal explosion
      confettiInstance({
        particleCount: 150,
        spread: 120,
        startVelocity: 60,
        origin: { x: 0.5, y: 0.5 },
        colors: colors,
        shapes: ['circle', 'square']
      });

      // Continuous celebration
      (function frame() {
        confettiInstance({
          particleCount: 3,
          angle: 60,
          spread: 55,
          origin: { x: 0, y: 0.7 },
          colors: colors
        });
        confettiInstance({
          particleCount: 3,
          angle: 120,
          spread: 55,
          origin: { x: 1, y: 0.7 },
          colors: colors
        });
        if (Date.now() < end) {
          requestAnimationFrame(frame);
        }
      })();
    }

    /* YES BUTTON GROWS (penalty kick power up) */
    let yesScale = 1;
    function powerUpYes() {
      yesScale = Math.min(1.6, yesScale + 0.06);
      yesBtn.style.transform = `translateY(-50%) scale(${yesScale})`;
    }

    /* NO BUTTON GETS RED CARDED - slides off screen */
    let redCarded = false;
    
    function redCardSlide(px, py) {
      if (redCarded) return;
      
      const f = field.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();
      
      const distance = Math.hypot(
        (b.left + b.width / 2) - px,
        (b.top + b.height / 2) - py
      );

      if (distance < 140) {
        // Get current position
        let currentRight = parseFloat(noBtn.style.right) || 10;
        let currentTop = parseFloat(noBtn.style.top) || 50;
        
        // Slide right and down (being sent off)
        currentRight -= 3;
        currentTop += 1;
        
        if (currentRight < -20) {
          redCarded = true;
          noBtn.style.display = "none";
          return;
        }
        
        noBtn.style.right = currentRight + "%";
        noBtn.style.top = currentTop + "%";
        noBtn.style.opacity = Math.max(0, 1 - Math.abs(currentRight) / 30);
        
        powerUpYes();
      }
    }

    field.addEventListener("pointermove", e => {
      redCardSlide(e.clientX, e.clientY);
    });

    noBtn.addEventListener("click", e => e.preventDefault());

    /* YES CLICK - GOAL! */
    yesBtn.addEventListener("click", () => {
      field.style.display = "none";
      hint.style.display = "none";
      result.style.display = "block";
      resizeConfettiCanvas();
      goalConfetti();
      
      // Play crowd cheer effect
      document.querySelectorAll('.crowd span').forEach(person => {
        person.style.animation = 'bounce 0.5s ease infinite';
      });
    });
  </script>
</body>
</html>
